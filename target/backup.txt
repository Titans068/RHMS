    <%--<sql:setDataSource var="dataSource" url="jdbc:mysql://localhost:3306/sakila"
                       driver="com.mysql.cj.jdbc.Driver" user="root" password=""/>
    <sql:query var="rs" dataSource="${dataSource}" sql="SELECT * FROM houses"/>

    <%
        // Number of records displayed on each page
        int iSwRws = 10;
        // Number of pages navigable at a time
        int iTotSrhRcrds = 10;

        int iTotRslts = com.rhms.RHMSDAO.count("houses");
        int iTotPags = com.rhms.RHMSDAO.toInteger(request.getParameter("iTotPags"));
        int iPagNo = com.rhms.RHMSDAO.toInteger(request.getParameter("iPagNo"));
        int cPagNo = com.rhms.RHMSDAO.toInteger(request.getParameter("cPagNo"));

        int iStRsNo = 0;
        int iEnRsNo = 0;

        if (iPagNo != 0) {
            iPagNo = Math.abs((iPagNo - 1) * iSwRws);
        }
        int i = 0;
        iEnRsNo = Math.min(iTotRslts, (iPagNo + iSwRws));
        iStRsNo = (iPagNo + 1);
        iTotPags = ((int) (Math.ceil((double) iTotRslts / iSwRws)));
    %>
    <form name='frm'>
        <input type='hidden' name='iPagNo' value=<%=iPagNo%>>
        <input type='hidden' name='cPagNo' value=<%=cPagNo%>>
        <input type='hidden' name='iSwRws' value=<%=iSwRws%>>
        <div class="card-deck">
            <%int k = 0;%>
            <c:forEach var="table" items="${rs.rows}">
                <div class="card">
                        &lt;%&ndash;<c:out value="${pageContext.request.contextPath}/uploadedpics/${table.houseno}"/>&ndash;%&gt;
                    <img src="${pageContext.request.contextPath}/uploadedpics/${table.houseno}"
                         alt="${table.building} ${table.descr}"
                         onerror="this.onerror=null;this.src='images/home(2).png'"><br>
                    <c:out value="${table.username}"/><br>
                    <c:out value="${table.building}"/><br>
                    <c:out value="${table.location}"/><br>
                    <c:out value="${table.rent}"/><br>
                    <c:out value="${table.descr}"/><br>
                    <c:out value="${table.houseno}"/><br>
                    <c:out value="${table.phonenumber}"/><br>
                    <c:out value="${RHMSDAO.valid(table.link)}" escapeXml="false"/>
                    <c:out value="${table.state}"/><br>

                </div>
                <%
                    k++;
                    if (k % 3 == 0) out.println("</div><br><div class='card-deck'>");
                %>
            </c:forEach>

        </div>
        <div><b>Page</b>
            <ul class='pagination'>
                <%
                    int cPge = ((int) (Math.ceil((double) iEnRsNo / (iTotSrhRcrds * iSwRws))));
                    int prePageNo = (cPge * iTotSrhRcrds) - ((iTotSrhRcrds - 1) + iTotSrhRcrds);
                    if ((cPge * iTotSrhRcrds) - (iTotSrhRcrds) > 0) {
                %>
                <li class='page-item'><a href="houses.jsp?iPagNo=<%=prePageNo%>
                             &cPagNo=<%=prePageNo%>" class='page-link'><< Previous</a></li>

                <%
                    }
                    for (i = ((cPge * iTotSrhRcrds) - (iTotSrhRcrds - 1)); i <= (cPge * iTotSrhRcrds); i++) {
                        if (i == ((iPagNo / iSwRws) + 1)) {

                %>
                <li class='page-item active'><a href="houses.jsp?iPagNo=<%=i%>" class='page-link'><b><%=i%>
                </b></a></li>
                <%
                } else if (i <= iTotPags) {
                %>
                <li class='page-item'><a class='page-link' href='houses.jsp?iPagNo=<%=i%>'><%=i%>
                </a>
                <li>
                        <%}
    }
    if (iTotPags > iTotSrhRcrds && i < iTotPags) {
    %>
                <li class='page-item'><a href=houses.jsp?iPagNo=<%=i%>&cPagNo=<%=i%> class='page-link'>>> Next</a></li>
                <%
                    }
                %></ul>
            <b>Rows <%=iStRsNo%> - <%=iEnRsNo%><br>Total Results: <%=iTotRslts%>
            </b></div>
    </form>--%>


